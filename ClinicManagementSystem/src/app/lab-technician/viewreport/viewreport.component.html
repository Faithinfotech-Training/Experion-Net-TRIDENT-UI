<div class="container">
    <div class="header">
        <div class="form-control">
            <!-- Search -->
            <input class="form-control" type="text" placeholder="Search TestReport using Name,Phone Number"[(ngModel)]="filter">
            <br>
            <a href="/lab-technician" class="btn btn-outline-secondary" style="float: right; margin-bottom:19px;">Go Back</a>
            <br>
            
                  <div class="row"  *ngFor="let rep of labtestservice.testreports|filter:filter|paginate:{itemsPerPage:1,currentPage:page}">
                    <div   *ngFor=" let items of rep index as i">
                   <button printTitle="Clinic Management System" printSectionId="pdfTable" class="btn btn-primary" ngxPrint>
                        Print
                      </button>
                    <br>  
                    <h3 style="text-align:center;">Test Report </h3>
                    <div id="pdfTable">
                    <span style="display: flex;justify-content: space-between;"><h5>Report Id: {{rep[i].LabBillId}}</h5>
                        <h5>Appointment Date : {{rep[i].AppointmentDate | date:'dd-MMM-yyyy hh:mm aa'}}</h5></span>
                        <span style="display: flex;justify-content: space-between;">
                        <h5>Patient Name: {{rep[i].PatientName}}</h5>
                        <h5>Test Report Date:{{rep[i].DateOfReport | date:'dd-MMM-yyyy hh:mm aa'}}</h5></span>
                        <span style="display: flex;justify-content: space-between;">
                            <h5>Phone No:{{rep[i].Phone}}</h5>
                        <h5>Doctor: {{rep[i].DoctorName}} </h5>
                        </span>
                        <span style="display: flex;justify-content: space-between;">
                        <h5>Blood Group: {{rep[i].BloodGroup}}</h5>
                        <h5>Lab Technician:{{rep[i].LabTechnician}}</h5>
                         </span>
                        <table class="table table-primary table-striped table-bordered">
                            <thead>
                                <th>Name</th>
                                <th>Description</th>
                                <th>Value</th>
                                <th>Min-Range</th>
                                <th>Max-Range</th>
                                <th>Test Rate</th>
                            </thead>
                            <tbody>
                                <tr *ngFor="let item of rep[i].TestReport; index as k;" >
                                    <td>{{rep[i].TestReport[k].TestName}}</td>
                                    <td>{{rep[i].TestReport[k].TestDescription}}</td>
                                    <div *ngIf="rep[i].TestReport[k].TestValue>rep[i].TestReport[k].MaxRange||rep[i].TestReport[k].TestValue<rep[i].TestReport[k].MinRange; else elseBlock" [ngIfElse]="testrep">
                                    <td  style="color: red;">{{rep[i].TestReport[k].TestValue}}</td>
                                    </div>
                                    
                                    <ng-template #elseBlock> <td style="color: rgb(53, 119, 49);">{{rep[i].TestReport[k].TestValue}}</td> </ng-template>
                                    <td id="min">{{rep[i].TestReport[k].MinRange}}</td>
                                    <td id="max">{{rep[i].TestReport[k].MaxRange}}</td>
                                    <td>{{rep[i].TestReport[k].TotalAmount}}</td>
                                </tr>
                            </tbody>
                        </table>
                        <h5 style="text-align: center;">Total Amount: Rs.{{rep[i].TotalAmount}}</h5>
                    </div>
                         <!--(click)="updateEmployee(emp.EmployeeID)"-->
            </div>
            </div>
            <br>
            <footer>
               <pagination-controls (pageChange)="page= $event"></pagination-controls>
            </footer>

